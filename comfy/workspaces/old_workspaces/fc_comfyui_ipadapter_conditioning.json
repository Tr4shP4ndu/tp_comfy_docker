{"last_node_id":48,"last_link_id":70,"nodes":[{"id":13,"type":"IPAdapterRegionalConditioning","pos":[1700,-380],"size":{"0":260.3999938964844,"1":214},"flags":{},"order":24,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":18,"label":"image"},{"name":"mask","type":"MASK","link":65,"label":"mask"},{"name":"positive","type":"CONDITIONING","link":31,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":32,"label":"negative"}],"outputs":[{"name":"IPADAPTER_PARAMS","type":"IPADAPTER_PARAMS","links":[39],"shape":3,"label":"IPADAPTER_PARAMS","slot_index":0},{"name":"POSITIVE","type":"CONDITIONING","links":null,"shape":3,"label":"POSITIVE"},{"name":"NEGATIVE","type":"CONDITIONING","links":null,"shape":3,"label":"NEGATIVE"}],"properties":{"Node name for S&R":"IPAdapterRegionalConditioning"},"widgets_values":[1,1,"linear",0,1]},{"id":30,"type":"IPAdapterCombineParams","pos":[2060,-650],"size":{"0":317.4000244140625,"1":106},"flags":{},"order":27,"mode":0,"inputs":[{"name":"params_1","type":"IPADAPTER_PARAMS","link":37,"label":"params_1"},{"name":"params_2","type":"IPADAPTER_PARAMS","link":38,"label":"params_2"},{"name":"params_3","type":"IPADAPTER_PARAMS","link":39,"label":"params_3"},{"name":"params_4","type":"IPADAPTER_PARAMS","link":null,"label":"params_4"},{"name":"params_5","type":"IPADAPTER_PARAMS","link":null,"label":"params_5"}],"outputs":[{"name":"IPADAPTER_PARAMS","type":"IPADAPTER_PARAMS","links":[41],"shape":3,"label":"IPADAPTER_PARAMS","slot_index":0}],"properties":{"Node name for S&R":"IPAdapterCombineParams"}},{"id":22,"type":"CLIPTextEncode","pos":[840,-890],"size":{"0":210,"1":90},"flags":{},"order":0,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":null,"label":"CLIP"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[24,50],"shape":3,"label":"条件","slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["bad quality,"],"color":"#322","bgcolor":"#533"},{"id":25,"type":"CLIPTextEncode","pos":[840,-590],"size":{"0":210,"1":90},"flags":{},"order":1,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":null,"label":"CLIP"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[30,51],"shape":3,"label":"条件","slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["bad quality,"],"color":"#322","bgcolor":"#533"},{"id":27,"type":"CLIPTextEncode","pos":[840,-300],"size":{"0":210,"1":90},"flags":{},"order":2,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":null,"label":"CLIP"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[32,52],"shape":3,"label":"条件","slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["bad quality,"],"color":"#322","bgcolor":"#533"},{"id":34,"type":"IPAdapterUnifiedLoader","pos":[2420,-690],"size":{"0":210,"1":80},"flags":{},"order":3,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":null,"label":"model"},{"name":"ipadapter","type":"IPADAPTER","link":null,"label":"ipadapter"}],"outputs":[{"name":"model","type":"MODEL","links":[44],"shape":3,"label":"model","slot_index":0},{"name":"ipadapter","type":"IPADAPTER","links":[43],"shape":3,"label":"ipadapter"}],"properties":{"Node name for S&R":"IPAdapterUnifiedLoader"},"widgets_values":["PLUS (high strength)"]},{"id":32,"type":"IPAdapterFromParams","pos":[2660,-690],"size":{"0":315,"1":162},"flags":{},"order":28,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":44,"label":"model"},{"name":"ipadapter","type":"IPADAPTER","link":43,"label":"ipadapter","slot_index":1},{"name":"ipadapter_params","type":"IPADAPTER_PARAMS","link":41,"label":"ipadapter_params"},{"name":"image_negative","type":"IMAGE","link":null,"label":"image_negative","slot_index":3},{"name":"clip_vision","type":"CLIP_VISION","link":null,"label":"clip_vision"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[45],"shape":3,"label":"MODEL","slot_index":0}],"properties":{"Node name for S&R":"IPAdapterFromParams"},"widgets_values":["concat","V only"]},{"id":11,"type":"MaskFromRGBCMYBW+","pos":[536.9598515235512,-873.5859339903391],"size":{"0":210,"1":294},"flags":{},"order":20,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":10,"label":"image"}],"outputs":[{"name":"red","type":"MASK","links":[63],"shape":3,"label":"red","slot_index":0},{"name":"green","type":"MASK","links":[66],"shape":3,"label":"green","slot_index":1},{"name":"blue","type":"MASK","links":[65],"shape":3,"label":"blue","slot_index":2},{"name":"cyan","type":"MASK","links":null,"shape":3,"label":"cyan"},{"name":"magenta","type":"MASK","links":null,"shape":3,"label":"magenta"},{"name":"yellow","type":"MASK","links":null,"shape":3,"label":"yellow"},{"name":"black","type":"MASK","links":null,"shape":3,"label":"black"},{"name":"white","type":"MASK","links":null,"shape":3,"label":"white"}],"properties":{"Node name for S&R":"MaskFromRGBCMYBW+"},"widgets_values":[0.15,0.15,0.15,0,false]},{"id":5,"type":"EmptyLatentImage","pos":[2310,270],"size":{"0":315,"1":106},"flags":{},"order":4,"mode":0,"outputs":[{"name":"LATENT","type":"LATENT","links":[2],"slot_index":0,"label":"Latent"}],"properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[1024,768,1]},{"id":24,"type":"CLIPTextEncode","pos":[840,-730],"size":{"0":210,"1":90},"flags":{},"order":5,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":null,"label":"CLIP"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[29,47],"shape":3,"label":"条件","slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["stone road,purple world，"]},{"id":7,"type":"CLIPTextEncode","pos":[840,90],"size":{"0":210,"1":76},"flags":{},"order":6,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":null,"label":"CLIP"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[53],"slot_index":0,"label":"条件"}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["text, watermark"],"color":"#322","bgcolor":"#533"},{"id":6,"type":"CLIPTextEncode","pos":[840,-150],"size":{"0":210,"1":180},"flags":{},"order":7,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":null,"label":"CLIP"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[49],"slot_index":0,"label":"条件"}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["A special forces soldier fights in space, fully armed"]},{"id":19,"type":"CLIPTextEncode","pos":[840,-1030],"size":{"0":210,"1":90},"flags":{},"order":8,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":null,"label":"CLIP"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[19,46],"shape":3,"label":"条件","slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["a special forces soldier"]},{"id":26,"type":"CLIPTextEncode","pos":[840,-440],"size":{"0":210,"1":90},"flags":{},"order":9,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":null,"label":"CLIP"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[31,48],"shape":3,"label":"条件","slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["beautiful_background,milky way space galaxy"]},{"id":14,"type":"IPAdapterRegionalConditioning","pos":[1700,-630],"size":{"0":260.3999938964844,"1":214},"flags":{},"order":26,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":17,"label":"image","slot_index":0},{"name":"mask","type":"MASK","link":68,"label":"mask"},{"name":"positive","type":"CONDITIONING","link":29,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":30,"label":"negative"}],"outputs":[{"name":"IPADAPTER_PARAMS","type":"IPADAPTER_PARAMS","links":[38],"shape":3,"label":"IPADAPTER_PARAMS","slot_index":0},{"name":"POSITIVE","type":"CONDITIONING","links":null,"shape":3,"label":"POSITIVE"},{"name":"NEGATIVE","type":"CONDITIONING","links":null,"shape":3,"label":"NEGATIVE"}],"properties":{"Node name for S&R":"IPAdapterRegionalConditioning"},"widgets_values":[1,1,"ease in-out",0,1]},{"id":43,"type":"GrowMask","pos":[536.9598515235512,-533.5859339903392],"size":{"0":210,"1":82},"flags":{},"order":23,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":66,"label":"遮罩"}],"outputs":[{"name":"MASK","type":"MASK","links":[67],"shape":3,"label":"遮罩","slot_index":0}],"properties":{"Node name for S&R":"GrowMask"},"widgets_values":[10,true]},{"id":8,"type":"VAEDecode","pos":[3020,210],"size":{"0":210,"1":46},"flags":{},"order":30,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":7,"label":"Latent"},{"name":"vae","type":"VAE","link":null,"label":"VAE"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[23,70],"slot_index":0,"label":"图像"}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":44,"type":"ImpactGaussianBlurMask","pos":[536.9598515235512,-393.5859339903391],"size":{"0":210,"1":82},"flags":{},"order":25,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":67,"label":"遮罩"}],"outputs":[{"name":"MASK","type":"MASK","links":[68],"shape":3,"label":"遮罩","slot_index":0}],"properties":{"Node name for S&R":"ImpactGaussianBlurMask"},"widgets_values":[30,10]},{"id":21,"type":"PreviewImage","pos":[3760,-2130],"size":{"0":1040,"1":800},"flags":{},"order":31,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":23,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":37,"type":"ConditioningCombineMultiple+","pos":[1180,30],"size":{"0":290,"1":110},"flags":{},"order":18,"mode":0,"inputs":[{"name":"conditioning_1","type":"CONDITIONING","link":50,"label":"conditioning_1"},{"name":"conditioning_2","type":"CONDITIONING","link":51,"label":"conditioning_2"},{"name":"conditioning_3","type":"CONDITIONING","link":52,"label":"conditioning_3"},{"name":"conditioning_4","type":"CONDITIONING","link":53,"label":"conditioning_4"},{"name":"conditioning_5","type":"CONDITIONING","link":null,"label":"conditioning_5"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[54],"shape":3,"label":"CONDITIONING","slot_index":0}],"properties":{"Node name for S&R":"ConditioningCombineMultiple+"},"color":"#322","bgcolor":"#533"},{"id":3,"type":"KSampler","pos":[2670,200],"size":{"0":320,"1":470},"flags":{},"order":29,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":45,"label":"模型"},{"name":"positive","type":"CONDITIONING","link":55,"label":"正面条件"},{"name":"negative","type":"CONDITIONING","link":54,"label":"负面条件"},{"name":"latent_image","type":"LATENT","link":2,"label":"Latent"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[7],"slot_index":0,"label":"Latent"}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[1058737173651800,"randomize",5,2,"dpmpp_sde","exponential",1]},{"id":15,"type":"IPAdapterRegionalConditioning","pos":[1700,-880],"size":{"0":260.3999938964844,"1":214},"flags":{},"order":22,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":16,"label":"image","slot_index":0},{"name":"mask","type":"MASK","link":63,"label":"mask"},{"name":"positive","type":"CONDITIONING","link":19,"label":"positive","slot_index":2},{"name":"negative","type":"CONDITIONING","link":24,"label":"negative"}],"outputs":[{"name":"IPADAPTER_PARAMS","type":"IPADAPTER_PARAMS","links":[37],"shape":3,"label":"IPADAPTER_PARAMS","slot_index":0},{"name":"POSITIVE","type":"CONDITIONING","links":null,"shape":3,"label":"POSITIVE"},{"name":"NEGATIVE","type":"CONDITIONING","links":null,"shape":3,"label":"NEGATIVE"}],"properties":{"Node name for S&R":"IPAdapterRegionalConditioning"},"widgets_values":[1,1,"ease in-out",0,1]},{"id":36,"type":"ConditioningCombineMultiple+","pos":[1180,-140],"size":{"0":290,"1":110},"flags":{},"order":19,"mode":0,"inputs":[{"name":"conditioning_1","type":"CONDITIONING","link":46,"label":"conditioning_1"},{"name":"conditioning_2","type":"CONDITIONING","link":47,"label":"conditioning_2"},{"name":"conditioning_3","type":"CONDITIONING","link":48,"label":"conditioning_3"},{"name":"conditioning_4","type":"CONDITIONING","link":49,"label":"conditioning_4"},{"name":"conditioning_5","type":"CONDITIONING","link":null,"label":"conditioning_5"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[55],"shape":3,"label":"CONDITIONING","slot_index":0}],"properties":{"Node name for S&R":"ConditioningCombineMultiple+"}},{"id":46,"type":"Note","pos":[-73.04014847644915,-803.585933990339],"size":{"0":210,"1":260},"flags":{},"order":10,"mode":0,"properties":{"text":""},"widgets_values":["上传一张色彩图\n例如 R G B\nR代表主体\nG代表地面\nB代表背景\n\nUpload a color image\nFor example R G B\nR stands for subject\nG stands for ground\nB stands for background"],"color":"#432","bgcolor":"#653"},{"id":48,"type":"Note","pos":[1180,-270],"size":{"0":260,"1":60},"flags":{},"order":11,"mode":0,"properties":{"text":""},"widgets_values":["把所有提示词或包含主要信息的提示词合并\nCombine all prompt words or prompt words that contain main information"],"color":"#432","bgcolor":"#653"},{"id":47,"type":"Note","pos":[174,-1914],"size":{"0":210,"1":160},"flags":{},"order":12,"mode":0,"properties":{"text":""},"widgets_values":["根据R,G,B或其他颜色分开画面区域后\n我们选则不同色彩蒙版对应的参考图\n\nAfter dividing the picture area according to R, G, B or other colors\nWe select reference images corresponding to different color masks"],"color":"#432","bgcolor":"#653"},{"id":16,"type":"LoadImage","pos":[819,-2043],"size":[220,314],"flags":{},"order":13,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[16],"shape":3,"label":"图像"},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"遮罩"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["Z6QCrz9b_1713754811864.webp","image"]},{"id":10,"type":"LoadImage","pos":[166.95985152355092,-803.585933990339],"size":{"0":320,"1":314},"flags":{},"order":14,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[10,69],"shape":3,"label":"图像","slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"遮罩"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["ZqRL2chj_1713754794264.webp","image"]},{"id":20,"type":"Anything Everywhere3","pos":[-358,-699],"size":{"0":210,"1":66},"flags":{},"order":21,"mode":0,"inputs":[{"name":"MODEL","type":"*","link":20,"label":"输入","color_on":"#8978a7"},{"name":"CLIP","type":"*","link":21,"label":"输入2","color_on":"#eacb8b"},{"name":"VAE","type":"*","link":22,"label":"输入3","color_on":"#be616b"}],"properties":{"group_restricted":0,"color_restricted":0,"Node name for S&R":"Anything Everywhere3"},"widgets_values":[]},{"id":4,"type":"CheckpointLoaderSimple","pos":[-518,-859],"size":{"0":315,"1":98},"flags":{},"order":15,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[20],"slot_index":0,"label":"模型"},{"name":"CLIP","type":"CLIP","links":[21],"slot_index":1,"label":"CLIP"},{"name":"VAE","type":"VAE","links":[22],"slot_index":2,"label":"VAE"}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["dreamshaperXL_v21TurboDPMSDE.safetensors"]},{"id":18,"type":"LoadImage","pos":[1067.2283105102133,-2046.042581436478],"size":{"0":210,"1":480},"flags":{},"order":16,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[18],"shape":3,"label":"图像","slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"遮罩"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["0_0.webp","image"]},{"id":17,"type":"LoadImage","pos":[437.22831051021427,-2046.042581436478],"size":{"0":350,"1":430},"flags":{},"order":17,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[17],"shape":3,"label":"图像","slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"遮罩"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["0_3.webp","image"]},{"id":45,"type":"Image Comparer (rgthree)","pos":{"0":2640,"1":-2130,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":1040,"1":820},"flags":{},"order":32,"mode":0,"inputs":[{"name":"image_a","type":"IMAGE","link":69,"dir":3},{"name":"image_b","type":"IMAGE","link":70,"dir":3}],"outputs":[],"properties":{"comparer_mode":"Slide"},"widgets_values":[["/view?filename=rgthree.compare._temp_iuppd_00001_.png&type=temp&subfolder=&rand=0.11804909468419589","/view?filename=rgthree.compare._temp_iuppd_00002_.png&type=temp&subfolder=&rand=0.9585011683600813"]]}],"links":[[2,5,0,3,3,"LATENT"],[7,3,0,8,0,"LATENT"],[10,10,0,11,0,"IMAGE"],[16,16,0,15,0,"IMAGE"],[17,17,0,14,0,"IMAGE"],[18,18,0,13,0,"IMAGE"],[19,19,0,15,2,"CONDITIONING"],[20,4,0,20,0,"MODEL"],[21,4,1,20,1,"CLIP"],[22,4,2,20,2,"VAE"],[23,8,0,21,0,"IMAGE"],[24,22,0,15,3,"CONDITIONING"],[29,24,0,14,2,"CONDITIONING"],[30,25,0,14,3,"CONDITIONING"],[31,26,0,13,2,"CONDITIONING"],[32,27,0,13,3,"CONDITIONING"],[37,15,0,30,0,"IPADAPTER_PARAMS"],[38,14,0,30,1,"IPADAPTER_PARAMS"],[39,13,0,30,2,"IPADAPTER_PARAMS"],[41,30,0,32,2,"IPADAPTER_PARAMS"],[43,34,1,32,1,"IPADAPTER"],[44,34,0,32,0,"MODEL"],[45,32,0,3,0,"MODEL"],[46,19,0,36,0,"CONDITIONING"],[47,24,0,36,1,"CONDITIONING"],[48,26,0,36,2,"CONDITIONING"],[49,6,0,36,3,"CONDITIONING"],[50,22,0,37,0,"CONDITIONING"],[51,25,0,37,1,"CONDITIONING"],[52,27,0,37,2,"CONDITIONING"],[53,7,0,37,3,"CONDITIONING"],[54,37,0,3,2,"CONDITIONING"],[55,36,0,3,1,"CONDITIONING"],[63,11,0,15,1,"MASK"],[65,11,2,13,1,"MASK"],[66,11,1,43,0,"MASK"],[67,43,0,44,0,"MASK"],[68,44,0,14,1,"MASK"],[69,10,0,45,0,"IMAGE"],[70,8,0,45,1,"IMAGE"]],"groups":[{"title":"ip","bounding":[427,-2120,890,582],"color":"#3f789e","font_size":24,"locked":false},{"title":"models","bounding":[-534,-944,413,343],"color":"#3f789e","font_size":24,"locked":false},{"title":"mask","bounding":[-93,-942,888,641],"color":"#3f789e","font_size":24,"locked":false},{"title":"prompt","bounding":[826,-1109,736,1297],"color":"#3f789e","font_size":24,"locked":false},{"title":"sampler","bounding":[2284,98,974,627],"color":"#3f789e","font_size":24,"locked":false},{"title":"ipadapter","bounding":[1691,-964,1307,831],"color":"#3f789e","font_size":24,"locked":false},{"title":"output image","bounding":[2611,-2224,2219,947],"color":"#3f789e","font_size":24,"locked":false}],"config":{},"extra":{"workspace_info":{"id":"ff6d2316-f891-4be6-8f8a-17536a832a5e"},"ds":{"scale":0.3719008264462827,"offset":[524.1397404129165,2391.500500198075]}},"version":0.4}